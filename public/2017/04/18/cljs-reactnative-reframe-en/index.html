<!doctype html>
<html>
<head>
    <base href="/">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="author" content="-">

<meta name="description" content="In order to be the best ... you can be, your tools  must be sharp">

<title>[CLJS][ReactNative] Create React Native app with ClojureScript</title>
<meta name="generator" content="Hugo 0.21-DEV" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.1.0/styles/pojoaque.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.1.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400,700" rel="stylesheet" type="text/css">
<link  href="https://dev.jigko.net/css/theme.min.css" rel="stylesheet" type="text/css">

</head>
<body>
<div class="page-container container-fluid">
<div class="col-md-3 menu">
    <nav class="col-md-3">
    <h3 class="home-link"><a href="/">Root</a></h3>
    <div id="last-posts" class="open">
        <h3 data-open="last-posts">Padawan journey - Most recent posts</h3>
        <ul>
            
            <li><a href="https://dev.jigko.net/2017/04/18/cljs-reactnative-reframe-en/">[CLJS][ReactNative] Create React Native app with ClojureScript</a></li>
            
            <li><a href="https://dev.jigko.net/2017/04/18/cljs-reactnative-reframe/">[CLJS][ReactNative] ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô React Native ‡∏î‡πâ‡∏ß‡∏¢ ClojureScript ‡πÅ‡∏•‡∏∞ re-frame</a></li>
            
            <li><a href="https://dev.jigko.net/2017/03/04/cljs-nodejs-0/">NodeJs Hello World ‡∏î‡πâ‡∏ß‡∏¢ ClojureScript</a></li>
            
            <li><a href="https://dev.jigko.net/2016/10/02/haskell-01/">Haskell 101.01 Get Started!</a></li>
            
            <li><a href="https://dev.jigko.net/2016/09/15/vim/">Vim Survivor</a></li>
            
            <li><a href="https://dev.jigko.net/2016/09/09/welcome/">welcome</a></li>
            
            <li><a href="https://dev.jigko.net/authors/sonk/">sonk</a></li>
            
            <li><a href="https://dev.jigko.net/authors/ziko/">ziko</a></li>
            
            <li><a href="https://dev.jigko.net/authors/">Authors</a></li>
            
            <li><a href="https://dev.jigko.net/tags/cljs/">Cljs</a></li>
            
        </ul>
    </div>

    
    <div id="tags" class="open">
        <h3 data-open="tags">Tags</h3>
        <ul class="tags">
            
            <li><a href="/tags/cljs">cljs</a></li>
            
            <li><a href="/tags/clojurescript">clojurescript</a></li>
            
            <li><a href="/tags/essential">essential</a></li>
            
            <li><a href="/tags/expo">expo</a></li>
            
            <li><a href="/tags/functional-programming">functional-programming</a></li>
            
            <li><a href="/tags/haskell">haskell</a></li>
            
            <li><a href="/tags/nodejs">nodejs</a></li>
            
            <li><a href="/tags/programming-language">programming-language</a></li>
            
            <li><a href="/tags/re-frame">re-frame</a></li>
            
            <li><a href="/tags/react-native">react-native</a></li>
            
            <li><a href="/tags/reagent">reagent</a></li>
            
            <li><a href="/tags/vim">vim</a></li>
            
            <li><a href="/tags/vim-%E0%B8%AD%E0%B8%AD%E0%B8%81%E0%B8%A2%E0%B8%B1%E0%B8%87%E0%B9%84%E0%B8%87">vim-‡∏≠‡∏≠‡∏Å‡∏¢‡∏±‡∏á‡πÑ‡∏á</a></li>
            
            <li><a href="/tags/vim-%E0%B9%80%E0%B8%8B%E0%B8%9F%E0%B8%A2%E0%B8%B1%E0%B8%87%E0%B9%84%E0%B8%87">vim-‡πÄ‡∏ã‡∏ü‡∏¢‡∏±‡∏á‡πÑ‡∏á</a></li>
            
            <li><a href="/tags/vim-%E0%B9%83%E0%B8%8A%E0%B9%89%E0%B8%A2%E0%B8%B1%E0%B8%87%E0%B9%84%E0%B8%87">vim-‡πÉ‡∏ä‡πâ‡∏¢‡∏±‡∏á‡πÑ‡∏á</a></li>
            
        </ul>
    </div>
    

    
</nav>

</div>
<div class="col-md-9 content">

<h1>[CLJS][ReactNative] Create React Native app with ClojureScript</h1>
<h4>Published 04-18-2017 20:30:00

    <span>by</span>
    <span itemscope="" itemprop="author" itemtype="http://schema.org/Person">
        <span itemprop="name">
            <a href="/authors/ziko" itemprop="url" rel="author">ziko</a>
        </span>
    </span>

</h4>

<a href="https://twitter.com/share" class="twitter-share-button" data-via="kendo5731"></a>
<script>!function (d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0], p = /^http:/.test(d.location) ? 'http' : 'https';
    if (!d.getElementById(id)) {
        js = d.createElement(s);
        js.id = id;
        js.src = p + '://platform.twitter.com/widgets.js';
        fjs.parentNode.insertBefore(js, fjs);
    }
}(document, 'script', 'twitter-wjs');</script>

<div class="fb-share-button" data-href="https://dev.jigko.net/2017/04/18/cljs-reactnative-reframe-en/" data-layout="button"></div>
<div id="fb-root"></div>
<script>(function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/fr_FR/sdk.js#xfbml=1&version=v2.5";
    fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<article>
    

<p>ClojureScript is Lisp dialect which compile to Javascript ecosystem. So we can write any Javascript software with ClojureScript.
And ClojureScript is very good language to develop application&rsquo;s UI.
Because it have very good tools like Figwheel and REPL. <a href="https://www.youtube.com/watch?v=j-kj2qwJa_E">Figwheel</a> is good hot load tool. You don&rsquo;t have to do tedios work like click, click,&hellip; to navigate to things you work on. It&rsquo;s work most of the time (AFIK: React try to do hot load but can&rsquo;t catch Figwheel yet). With Figwheel + REPL your feedback loop will be faster than you ever was before XD.</p>

<p>In this blog I will show you how to get start on React Native withClojureScript (also with <a href="https://github.com/Day8/re-frame">re-frame</a>
 and <a href="https://docs.expo.io/versions/v15.0.0/index.html">Expo</a>)
 **<a href="https://juxt.pro/blog/posts/native.html">more about cljs+expo</a></p>

<h1 id="pre-requisite">Pre-requisite</h1>

<ul>
<li>NodeJs <a href="https://nodejs.org/en/download/">link</a></li>
<li>JDK to run Clojure <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">link</a><br /></li>
<li>Leiningen - Build tools for Clojure <a href="https://leiningen.org/">link</a><br /></li>
</ul>

<h1 id="setup">Setup</h1>

<ol>
<li><p>Install Expo cli</p>

<pre><code>npm install -g exp
</code></pre></li>

<li><p>Create new project (<a href="https://docs.expo.io/versions/v15.0.0/guides/using-clojurescript.html">Expo+Cljs tutorial</a>)</p>

<pre><code>lein new exponent mymobileapp
</code></pre></li>

<li><p>Change directory to mymobileapp and install required node-modules with command</p>

<pre><code>yarn
# or
npm install
</code></pre></li>

<li><p>Start your project</p>

<pre><code>exp start
</code></pre>

<p><img src="/img/cljs/app0.png" alt="app0" /></p></li>

<li><p>Install <a href="https://expo.io/">Expo</a> in your mobile then use Expo app to scan QR Code. You will geting error  üòù  because you haven&rsquo;t compile your Cljs code yet.  üòù</p></li>

<li><p>Compile code by start Figwheel server</p>

<pre><code>lein figwheel
</code></pre>

<p>Figwheel need to connect to your mobile so your terminal will stuck at here</p>

<pre><code>;Prompt will show when Figwheel connects to your application
</code></pre></li>

<li><p>Exp will run in tunnel mode by default. You will have to change it to LAN so you mobile and Figwheel server can connect.
Edit file at <code>.expo/settings.json</code>. By cahnge <code>hostType</code> to</p>

<pre><code>&quot;hostType&quot;: &quot;lan&quot;
</code></pre></li>

<li><p>Start exp and use Expo app to scan QR CODE again. In this time it will connected  üòù</p>

<pre><code>exp start
</code></pre>

<p><img src="/img/cljs/app1.png" alt="app1" /></p></li>

<li><p>Figwheel REPL will change to this.
<img src="/img/cljs/app2.png" alt="app2" /></p></li>

<li><p>And last step, shake your mobile to invoke Developer Menu then disable Live Reload and Hot Reloading since Figwheel already done that.</p></li>
</ol>

<h1 id="let-s-code">Let&rsquo;s Code</h1>

<h2 id="very-bacis-clojurescript">(very) Bacis ClojureScript</h2>

<p>This is ClojureScript&rsquo;s syntax you need to know to understand some of code in this blog</p>

<ol>
<li><p>Vector or Array in other languages.</p>

<pre><code>;; Cljs
[1 2 3 4 5]

// Js
[1, 2, 3, 4, 5]
</code></pre></li>

<li><p>Map or HashMap which is like Object in Javascript.</p>

<pre><code>;; Cljs
{
    :name       &quot;ClojureScript&quot;
    :creator    &quot;Rich Hickey&quot;    
}

// Js
{
    &quot;name&quot;: &quot;ClojureScript&quot;,
    &quot;creator&quot;: &quot;Rich Hickey&quot;
}
</code></pre></li>

<li><p>Function call - &ldquo;add&rdquo; is function that have two parameter.</p>

<pre><code>;; Cljs
(add 1 2)

// Js
add(1, 2)
</code></pre>

<p>In ClojureScript it treat &ldquo;,&rdquo; like whitespace.</p></li>
</ol>

<h2 id="reagent">Reagent</h2>

<p>We have to known reagent before go to re-frame because re-frame is Reagent framework
Reagent is ReactJs wrapper library in ClojureScript which will provide ReactJS interface for your ClojureScript code
In Reagent we can write React component using only ClojurScipt data-sttructor and function (no html or JSX)</p>

<pre><code>[component attributes child children]  ; Normal form
[component]                            ; Minimal form
[Text &quot;Hello World&quot;]                   ; Text is component, &quot;Hello World&quot; is a child
</code></pre>

<p>JSX</p>

<pre><code>&lt;View style={{flex:1, justifyContent: &quot;center&quot;, alignItems: &quot;center&quot;}}&gt;
    &lt;Text&gt;Hello React Native&lt;/Text&gt;
&lt;/View&gt;
</code></pre>

<p>Reagent</p>

<pre><code>[View                               ; component
    {:style {                       ; attributes
        :flex 1
        :justify-content &quot;center&quot;
        :align-items &quot;center&quot;
    }}
    [Text &quot;Hello React Native&quot;]]    ; child
</code></pre>

<h2 id="re-frame">re-frame</h2>

<p>re-frame is Reagent framework which have a job to do every thing like manage app state except <code>view</code> because that&rsquo;s Reagent job.<br />
re-frame&rsquo;s job is 1 - 4 ( <a href="https://github.com/Day8/re-frame#it-is-a-6-domino-cascade">6-domino cascade</a>)<br />
<img src="/img/cljs/reframe-dominos.png" alt="reframe" /></p>

<h2 id="figwheel-hot-reloading">Figwheel - Hot Reloading</h2>

<p>Let&rsquo;s try by change button&rsquo;s text to &ldquo;Hello&rdquo; and change text in alert box to &ldquo;Hello from Button&rdquo;
<script src="//gist.github.com/jigkoxsee/e4478ca1ad4e42112afb06742d0962d2.js"></script>
When you save file it will update immediatly without reload. Click on button you will see that text in alert box already changed.</p>

<h2 id="repl">REPL</h2>

<p>Make alert box appear from your terminal!</p>

<ol>
<li>Goto Figwheel REPL<br /></li>

<li><p>Switch namespace to where a code live</p>

<pre><code>(in-ns 'mymobileapp.core)
</code></pre></li>

<li><p>Call alert function  ( alert function written at line 8 - 9)</p>

<pre><code>(alert &quot;Hi from REPL!&quot;)
</code></pre></li>
</ol>

<ul>
<li>more - <a href="https://www.facebook.com/jigkobenja/videos/vb.100000154047359/1638596939488758/?type=2&amp;theater">Me try to play with REPL</a></li>
</ul>

<h1 id="note-command-list">Note - Command list</h1>

<ul>
<li><p>Create project</p>

<pre><code>lein new exponent &lt;project-name&gt;
</code></pre></li>

<li><p>Start exp</p>

<pre><code>exp start
</code></pre></li>

<li><p>Start Figwheel Server</p>

<pre><code>lein figwheel
</code></pre></li>
</ul>

<h1 id="next">Next</h1>

<p>I will write a blog how to write a TODO app (if i have time üòÅ)</p>

</article>
<script type="text/javascript">
    google_ad_client = "ca-pub-6790702287470373";
    google_ad_slot = "4471144903";
    google_ad_width = 728;
    google_ad_height = 90;
</script>

<script type="text/javascript"
src="//pagead2.googlesyndication.com/pagead/show_ads.js">
</script>

<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'padawantech';
    var disqus_identifier = 'https:\/\/dev.jigko.net\/2017\/04\/18\/cljs-reactnative-reframe-en\/';
    var disqus_title = '[CLJS][ReactNative] Create React Native app with ClojureScript';
    var disqus_url = 'https:\/\/dev.jigko.net\/2017\/04\/18\/cljs-reactnative-reframe-en\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>
</div>
<script src="js/theme.min.js" type="text/javascript"></script>

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-84195554-1', 'auto');
ga('send', 'pageview');
</script>


</body>
</html>

